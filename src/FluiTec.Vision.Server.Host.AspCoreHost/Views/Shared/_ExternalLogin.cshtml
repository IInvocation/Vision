@using FluiTec.AppFx.Identity.Entities
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.Localization
@inject SignInManager<IdentityUserEntity> SignInManager
@inject IViewLocalizer Localizer
@{
	var loginProviders = SignInManager.GetExternalAuthenticationSchemes().ToList();
	if (loginProviders.Count > 0)
	{
		<section>
			<h4><localize>ExternalLoginDescription</localize></h4>
			<hr />
			<form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData[index: "ReturnUrl"]" method="post" class="form-horizontal">
				<div>
					<p>
						@foreach (var provider in loginProviders)
						{
							<button type="submit" class="btn btn-default" name="provider" value="@provider.AuthenticationScheme" title="@Localizer["ExternalLoginProviderDescription", provider.DisplayName] account">@provider.AuthenticationScheme</button>
						}
					</p>
				</div>
			</form>
		</section>
	}
}