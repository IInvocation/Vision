@using FluiTec.AppFx.Identity.Entities
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.Localization
@using System.Linq
@inject SignInManager<IdentityUserEntity> SignInManager
@inject IViewLocalizer Localizer
@{
	var loginProviders = SignInManager.GetExternalAuthenticationSchemes().ToList();
	if (loginProviders.Count > 0)
	{
		<section>
			<h4><localize>ExternalLoginDescription</localize></h4>
			<hr />
			<form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData[index: "ReturnUrl"]" method="post" class="form-horizontal">
				<div class="row uniform">
					<ul class="actions">
						@foreach (var provider in loginProviders)
						{
							<li>
								<input type="submit" class="btn btn-default" name="provider" value="@provider.AuthenticationScheme" title="@Localizer["ExternalLoginProviderDescription", provider.DisplayName]" />
							</li>                                                                                                                                                                                             
						}
					</ul>
				</div>
			</form>
		</section>
	}
}